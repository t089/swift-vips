//
//  foreign_svg.generated.swift
//
//  Generated by VIPS Swift Code Generator
//  DO NOT EDIT - This file is automatically generated
//

import Cvips
import CvipsShim

extension VIPSImageProtocol where Self: ~Copyable /*, Self: ~Escapable */ {

    /// Load svg with rsvg
    ///
    /// - Parameters:
    ///   - filename: Filename to load from
    ///   - dpi: Render at this DPI
    ///   - scale: Scale output by this factor
    ///   - unlimited: Allow SVG of any size
    ///   - stylesheet: Custom CSS
    ///   - highBitdepth: Enable scRGB 128-bit output (32-bit per channel)
    ///   - memory: Force open via memory
    ///   - access: Required access pattern for this file
    ///   - failOn: Error level to fail on
    ///   - revalidate: Don't use a cached result for this operation
    public static func svgload(
        filename: String,
        dpi: Double? = nil,
        scale: Double? = nil,
        unlimited: Bool? = nil,
        stylesheet: String? = nil,
        highBitdepth: Bool? = nil,
        memory: Bool? = nil,
        access: VipsAccess? = nil,
        failOn: VipsFailOn? = nil,
        revalidate: Bool? = nil
    ) throws -> Self {
        return try Self { out in
            var opt = VIPSOption()

            opt.set("filename", value: filename)
            if let dpi = dpi {
                opt.set("dpi", value: dpi)
            }
            if let scale = scale {
                opt.set("scale", value: scale)
            }
            if let unlimited = unlimited {
                opt.set("unlimited", value: unlimited)
            }
            if let stylesheet = stylesheet {
                opt.set("stylesheet", value: stylesheet)
            }
            if let highBitdepth = highBitdepth {
                opt.set("high_bitdepth", value: highBitdepth)
            }
            if let memory = memory {
                opt.set("memory", value: memory)
            }
            if let access = access {
                opt.set("access", value: access)
            }
            if let failOn = failOn {
                opt.set("fail_on", value: failOn)
            }
            if let revalidate = revalidate {
                opt.set("revalidate", value: revalidate)
            }
            opt.set("out", value: &out)

            try Self.call("svgload", options: &opt)
        }
    }

    /// Load svg with rsvg
    ///
    /// - Parameters:
    ///   - buffer: Buffer to load from
    ///   - dpi: Render at this DPI
    ///   - scale: Scale output by this factor
    ///   - unlimited: Allow SVG of any size
    ///   - stylesheet: Custom CSS
    ///   - highBitdepth: Enable scRGB 128-bit output (32-bit per channel)
    ///   - memory: Force open via memory
    ///   - access: Required access pattern for this file
    ///   - failOn: Error level to fail on
    ///   - revalidate: Don't use a cached result for this operation
    @inlinable
    public static func svgload(
        buffer: VIPSBlob,
        dpi: Double? = nil,
        scale: Double? = nil,
        unlimited: Bool? = nil,
        stylesheet: String? = nil,
        highBitdepth: Bool? = nil,
        memory: Bool? = nil,
        access: VipsAccess? = nil,
        failOn: VipsFailOn? = nil,
        revalidate: Bool? = nil
    ) throws -> Self {
        // the operation will retain the blob
        try buffer.withVipsBlob { blob in
            try Self { out in
                var opt = VIPSOption()

                opt.set("buffer", value: blob)
                if let dpi = dpi {
                    opt.set("dpi", value: dpi)
                }
                if let scale = scale {
                    opt.set("scale", value: scale)
                }
                if let unlimited = unlimited {
                    opt.set("unlimited", value: unlimited)
                }
                if let stylesheet = stylesheet {
                    opt.set("stylesheet", value: stylesheet)
                }
                if let highBitdepth = highBitdepth {
                    opt.set("high_bitdepth", value: highBitdepth)
                }
                if let memory = memory {
                    opt.set("memory", value: memory)
                }
                if let access = access {
                    opt.set("access", value: access)
                }
                if let failOn = failOn {
                    opt.set("fail_on", value: failOn)
                }
                if let revalidate = revalidate {
                    opt.set("revalidate", value: revalidate)
                }
                opt.set("out", value: &out)

                try Self.call("svgload_buffer", options: &opt)
            }
        }
    }

    /// Load svg with rsvg without copying the data. The caller must ensure the buffer remains valid for
    /// the lifetime of the returned image and all its descendants.
    ///
    /// - Parameters:
    ///   - buffer: Buffer to load from
    ///   - dpi: Render at this DPI
    ///   - scale: Scale output by this factor
    ///   - unlimited: Allow SVG of any size
    ///   - stylesheet: Custom CSS
    ///   - highBitdepth: Enable scRGB 128-bit output (32-bit per channel)
    ///   - memory: Force open via memory
    ///   - access: Required access pattern for this file
    ///   - failOn: Error level to fail on
    ///   - revalidate: Don't use a cached result for this operation
    @inlinable
    public static func svgload(
        unsafeBuffer buffer: UnsafeRawBufferPointer,
        dpi: Double? = nil,
        scale: Double? = nil,
        unlimited: Bool? = nil,
        stylesheet: String? = nil,
        highBitdepth: Bool? = nil,
        memory: Bool? = nil,
        access: VipsAccess? = nil,
        failOn: VipsFailOn? = nil,
        revalidate: Bool? = nil
    ) throws -> Self {
        let blob = VIPSBlob(noCopy: buffer)
        return try svgload(
            buffer: blob,
            dpi: dpi,
            scale: scale,
            unlimited: unlimited,
            stylesheet: stylesheet,
            highBitdepth: highBitdepth,
            memory: memory,
            access: access,
            failOn: failOn,
            revalidate: revalidate
        )
    }

    /// Load svg from source
    ///
    /// - Parameters:
    ///   - source: Source to load from
    ///   - dpi: Render at this DPI
    ///   - scale: Scale output by this factor
    ///   - unlimited: Allow SVG of any size
    ///   - stylesheet: Custom CSS
    ///   - highBitdepth: Enable scRGB 128-bit output (32-bit per channel)
    ///   - memory: Force open via memory
    ///   - access: Required access pattern for this file
    ///   - failOn: Error level to fail on
    ///   - revalidate: Don't use a cached result for this operation
    public static func svgload(
        source: VIPSSource,
        dpi: Double? = nil,
        scale: Double? = nil,
        unlimited: Bool? = nil,
        stylesheet: String? = nil,
        highBitdepth: Bool? = nil,
        memory: Bool? = nil,
        access: VipsAccess? = nil,
        failOn: VipsFailOn? = nil,
        revalidate: Bool? = nil
    ) throws -> Self {
        return try Self { out in
            var opt = VIPSOption()

            opt.set("source", value: source)
            if let dpi = dpi {
                opt.set("dpi", value: dpi)
            }
            if let scale = scale {
                opt.set("scale", value: scale)
            }
            if let unlimited = unlimited {
                opt.set("unlimited", value: unlimited)
            }
            if let stylesheet = stylesheet {
                opt.set("stylesheet", value: stylesheet)
            }
            if let highBitdepth = highBitdepth {
                opt.set("high_bitdepth", value: highBitdepth)
            }
            if let memory = memory {
                opt.set("memory", value: memory)
            }
            if let access = access {
                opt.set("access", value: access)
            }
            if let failOn = failOn {
                opt.set("fail_on", value: failOn)
            }
            if let revalidate = revalidate {
                opt.set("revalidate", value: revalidate)
            }
            opt.set("out", value: &out)

            try Self.call("svgload_source", options: &opt)
        }
    }

}

//
//  morphology.generated.swift
//
//  Generated by VIPS Swift Code Generator
//  DO NOT EDIT - This file is automatically generated
//

import Cvips

extension VIPSImage {

    /// Count lines in an image
    ///
    /// - Parameters:
    ///   - direction: Countlines left-right or up-down
    public func countlines(direction: VipsDirection) throws -> Double {
        try VIPSImage.execute {
            var opt = VIPSOption()

            opt.set("in", value: self.image)
            opt.set("direction", value: direction)

            try VIPSImage.call("countlines", options: &opt)
        }
    }

    /// Morphology operation
    ///
    /// - Parameters:
    ///   - mask: Input matrix image
    ///   - morph: Morphological operation to perform
    public func morph(mask: VIPSImage, morph: VipsOperationMorphology) throws -> VIPSImage {
        return try VIPSImage([self, mask]) { out in
            var opt = VIPSOption()

            opt.set("in", value: self.image)
            opt.set("mask", value: mask.image)
            opt.set("morph", value: morph)
            opt.set("out", value: &out)

            try VIPSImage.call("morph", options: &opt)
        }
    }

    /// Rank filter
    ///
    /// - Parameters:
    ///   - width: Window width in pixels
    ///   - height: Window height in pixels
    ///   - index: Select pixel at index
    public func rank(width: Int, height: Int, index: Int) throws -> VIPSImage {
        return try VIPSImage(self) { out in
            var opt = VIPSOption()

            opt.set("in", value: self.image)
            opt.set("width", value: width)
            opt.set("height", value: height)
            opt.set("index", value: index)
            opt.set("out", value: &out)

            try VIPSImage.call("rank", options: &opt)
        }
    }

}
